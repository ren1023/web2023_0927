<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.css'>
    <style>
        section{
            height: 100vh;
            background: lightblue;
            position: relative;
        }
        .bar{
            display: none;
            width:0;
            background: deepskyblue;
            text-align: right;
            border-radius: 0.3rem;
            padding-right: 1rem;
        }
    </style>
</head>

<body>

    <section id="section1"></section>
    <section id="section2">
        <div class="container">
            <table class="table table-dark ranking">
                <tr>
                    <td width="1" >HTML</td>
                    <td>
                        <div class="bar"></div>
                    </td>
                </tr>
                <tr>
                    <td>CSS</td>
                    <td>
                        <div class="bar"></div>
                    </td>
                </tr>
                <tr>
                    <td>JS</td>
                    <td>
                        <div class="bar"></div>
                    </td>
                </tr>
                <tr>
                    <td>PHP</td>
                    <td>
                        <div class="bar"></div>
                    </td>
                </tr>
                <tr>
                    <td>jQuery</td>
                    <td>
                        <div class="bar"></div>
                    </td>
                </tr>
            </table>
        </div>
    </section>
    <section id="section3"></section>
    <section id="section4"></section>


    <!-- 引入jQuery -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.js'></script>
    <!-- bootstrap -->
    <script src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.js'></script>

    <!-- 引入gsap主程式_動畫用的！ -->
<script src="./gsap/gsap.js"></script>
<script src="./gsap/ScrollTrigger.js"></script>

<script>

    // 註冊套件
gsap.registerPlugin(ScrollTrigger);

const languages = {
    html:60,
    css:70,
    js:80,
    php:100,
    jQuery:90
}

const tween = gsap.to('.bar',{
    scrollTrigger:{
        trigger:'.ranking',
        start:'top center',
        end:'bottom center',
        tabbleActions:'play none none none',
        markers:true,

    },
    display:'block',
    duration:1,
    stagger:0.5,
    //index 指的是第幾個bar
    // target 指的是目前那個bar
    // targets 指的是所有bar

    width:function(index,target,targets){
        switch (index){
            case 0:
                $(target).append(languages.html+'%')
                return languages.html + '%'
                break;
            case 1:
            $(target).append(languages.css+'%')
            return languages.css + '%'
            break;

            case 2:
            $(target).append(languages.js+'%')
            return languages.js + '%'
            break;
            case 3:
            $(target).append(languages.php+'%')
            return languages.php + '%'
            break;
            case 4:
            $(target).append(languages.jQuery+'%')
            return languages.jQuery + '%'
            break;
        }

    }

})


</script>

    
</body>

</html>